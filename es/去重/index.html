<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>去重方法总结</title>
</head>
<body>
<script>
  // https://segmentfault.com/a/1190000016418021?utm_source=tag-newest

  // 利用ES6 Set去重
  // function unique (arr) {
  //   return Array.from(new Set(arr))
  // }

  // 利用for嵌套for，然后splice去重
  // function unique(arr) {
  //   for (var i = 0; i < arr.length; i++) {
  //     for (var j = i + 1; j < arr.length; j++) {
  //       // if(arr[i]===arr[j]){         //第一个等同于第二个，splice方法删除第二个
  //       if (Object.is(arr[i], arr[j])) {         //第一个等同于第二个，splice方法删除第二个
  //         arr.splice(j, 1);
  //         j--;
  //       }
  //     }
  //   }
  //   return arr;
  // }

  // 三、利用indexOf去重
  function unique(arr) {
    if (!Array.isArray(arr)) {
      console.log('type error!')
      return
    }
    var array = [];
    for (var i = 0; i < arr.length; i++) {
      if (array.indexOf(arr[i]) === -1) {
        array.push(arr[i])
      }
    }
    return array;
  }

  // 四、利用sort()
  function unique(arr) {
    if (!Array.isArray(arr)) {
      console.log('type error!')
      return;
    }
    arr = arr.sort()
    var arrry = [arr[0]];
    for (var i = 1; i < arr.length; i++) {
      if (arr[i] !== arr[i - 1]) {
        arrry.push(arr[i]);
      }
    }
    return arrry;
  }

  function unique(arr) {
    if (!Array.isArray(arr)) {
      console.log('type error!')
      return
    }
    var array =[];
    for(var i = 0; i < arr.length; i++) {
      if( !array.includes( arr[i]) ) {//includes 检测数组是否有某个值
        array.push(arr[i]);
      }
    }
    return array
  }

  function unique(arr) {
    var obj = {};
    return arr.filter(function(item, index, arr){
      return obj.hasOwnProperty(typeof item + item) ? false : (obj[typeof item + item] = true)
    })
  }

  function unique(arr) {
    return arr.filter(function(item, index, arr) {
      //当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素
      return arr.indexOf(item, 0) === index;
    });
  }

  var arr = [1, 1, 'true', 'true', true, true, 15, 15, false, false, undefined, undefined, null, null, NaN, NaN, 'NaN', 0, 0, 'a', 'a', {}, {}];
  console.log(unique(arr))
</script>
</body>
</html>
